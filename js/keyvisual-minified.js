let font;function preload(){DegularDisplay=loadFont("fonts/DegularDisplay-Regular.otf"),DegularDisplaySemiB=loadFont("fonts/DegularDisplay-Semibold.otf")}let gridWidth,gridHeight,segments=9,segmentSizeX,segmentSizeY,clicked=!1,intersected1=!1,intersected2=!1,intersected3=!1,intersected4=!1,intersected5=!1,intersected7=!1,intersected8=!1,moveSpeed=.2,slowSpeed=.02,superSpeed=.4,myMouseX,myMouseY,jsonData;const names=["Malte","Frank","Gerd","Otto","Alicia","Nadine","Helene","Pauline","Anni","Marco","Nico","Daniel","Johannes","Alex","Ben","Ronny","Manuela","Sascha","Marc","Markus"];let currentName="",currentPosition,attributes=["be","meet","connect","work","network","relax","create","live","focus","hang out","workout","experience","celebrate","be"],currentAttribute="be",pointX=[],pointY=[],targetX=[],targetY=[];function setup(){var e=createCanvas(windowWidth-10,windowHeight);for(e.parent("canvas-container"),e.style("display","block"),frameRate(60),myMouseX=windowWidth/2,myMouseY=windowHeight/2,gridMarginTop=80,gridMarginBottom=20,segmentSizeX=(windowWidth-10-(gridMarginX=20))/segments,segmentSizeY=(windowHeight-gridMarginTop-gridMarginBottom)/segments,gridWidth=floor((width-gridMarginX)/segmentSizeX)+1,gridHeight=floor((height-gridMarginTop-gridMarginBottom)/segmentSizeX),pointX[1]=floor(random(gridWidth/segments*3))*segmentSizeX+gridMarginX/2,pointY[1]=floor(random(gridWidth/segments*3))*segmentSizeY+gridMarginTop,pointX[2]=floor(random(gridWidth/segments*3,gridWidth/segments*6))*segmentSizeX+gridMarginX/2,pointY[2]=floor(random(gridWidth/segments*3))*segmentSizeY+gridMarginTop,pointX[3]=floor(random(gridWidth/segments*6,gridWidth))*segmentSizeX+gridMarginX/2,pointY[3]=floor(random(gridWidth/segments*3))*segmentSizeY+gridMarginTop,pointX[4]=floor(random(gridWidth/segments*6,gridWidth))*segmentSizeX,pointY[4]=floor(random(gridWidth/segments*3,gridWidth/segments*6))*segmentSizeY,pointX[5]=floor(random(gridWidth/segments*6,gridWidth))*segmentSizeX,pointY[5]=floor(random(gridWidth/segments*6,gridWidth))*segmentSizeY,pointX[6]=myMouseX,pointY[6]=myMouseY,pointX[7]=floor(random(gridWidth/segments*3))*segmentSizeX,pointY[7]=floor(random(gridWidth/segments*6,gridWidth))*segmentSizeY,pointX[8]=floor(random(gridWidth/segments*3))*segmentSizeX,pointY[8]=floor(random(gridWidth/segments*3,gridWidth/segments*6))*segmentSizeY,i=1;i<9;i++)targetX[i]=pointX[i],targetY[i]=pointY[i];setTimeout(showRandomName,5e3),setTimeout(showRandomAttribute,3e3)}function draw(){background(255);let e=myMouseX,t=myMouseY;mouseX<gridMarginX||mouseY<gridMarginTop||mouseX>width-gridMarginX||mouseY>height-gridMarginBottom?(myMouseX=e,myMouseY=t):(myMouseX=mouseX,myMouseY=mouseY),pointX[6]=myMouseX,pointY[6]=myMouseY;let n=joinButton.offsetWidth,s=label.offsetWidth,o;mouseX+(o=n<s?s+plus.offsetWidth:n+plus.offsetWidth)>windowWidth-10?(label.classList.add("switch-to-left"),joinButton.classList.add("switch-to-left")):(label.classList.remove("switch-to-left"),joinButton.classList.remove("switch-to-left")),stroke(0),strokeWeight(1),clicked?fill(0):fill(255),stroke(0),strokeWeight(2),blendMode(BLEND);let r=createVector(pointX[1],pointY[1]),d=createVector(pointX[2],pointY[2]),g=createVector(pointX[3],pointY[3]),p=createVector(pointX[4],pointY[4]),m=createVector(pointX[5],pointY[5]),a=createVector(pointX[6],pointY[6]),Y=createVector(pointX[7],pointY[7]),X=createVector(pointX[8],pointY[8]);1>dist(pointX[1],pointY[1],targetX[1],targetY[1])?(targetX[1]=floor(random(gridWidth/segments*3))*segmentSizeX+gridMarginX/2,targetY[1]=floor(random(gridWidth/segments*3))*segmentSizeY+gridMarginTop):(moveSpeed=!0==intersected1||!0==intersected8?superSpeed:slowSpeed,pointX[1]+=(targetX[1]-pointX[1])*moveSpeed,pointY[1]+=(targetY[1]-pointY[1])*moveSpeed),1>dist(pointX[2],pointY[2],targetX[2],targetY[2])?(targetX[2]=floor(random(gridWidth/segments*3,gridWidth/segments*6))*segmentSizeX+gridMarginX/2,targetY[2]=floor(random(gridWidth/segments*3))*segmentSizeY+gridMarginTop):(moveSpeed=!0==intersected1||!0==intersected2?superSpeed:slowSpeed,pointX[2]+=(targetX[2]-pointX[2])*moveSpeed,pointY[2]+=(targetY[2]-pointY[2])*moveSpeed),1>dist(pointX[3],pointY[3],targetX[3],targetY[3])?(targetX[3]=floor(random(gridWidth/segments*6,gridWidth))*segmentSizeX+gridMarginX/2,targetY[3]=floor(random(gridWidth/segments*3))*segmentSizeY+gridMarginTop):(moveSpeed=!0==intersected2||!0==intersected3?superSpeed:slowSpeed,pointX[3]+=(targetX[3]-pointX[3])*moveSpeed,pointY[3]+=(targetY[3]-pointY[3])*moveSpeed),1>dist(pointX[4],pointY[4],targetX[4],targetY[4])?(targetX[4]=floor(random(gridWidth/segments*6,gridWidth))*segmentSizeX+gridMarginX/2,targetY[4]=floor(random(gridWidth/segments*3,gridWidth/segments*6))*segmentSizeY+gridMarginTop):(moveSpeed=!0==intersected3||!0==intersected4?superSpeed:slowSpeed,pointX[4]+=(targetX[4]-pointX[4])*moveSpeed,pointY[4]+=(targetY[4]-pointY[4])*moveSpeed),1>dist(pointX[5],pointY[5],targetX[5],targetY[5])?(targetX[5]=floor(random(gridWidth/segments*6,gridWidth))*segmentSizeX+gridMarginX/2,targetY[5]=floor(random(gridWidth/segments*6,gridWidth))*segmentSizeY+gridMarginTop):(moveSpeed=!0==intersected4||!0==intersected5?superSpeed:slowSpeed,pointX[5]+=(targetX[5]-pointX[5])*moveSpeed,pointY[5]+=(targetY[5]-pointY[5])*moveSpeed),1>dist(pointX[7],pointY[7],targetX[7],targetY[7])?(targetX[7]=floor(random(gridWidth/segments*3))*segmentSizeX+gridMarginX/2,targetY[7]=floor(random(gridWidth/segments*6,gridWidth))*segmentSizeY+gridMarginTop):(moveSpeed=!0==intersected7?superSpeed:slowSpeed,pointX[7]+=(targetX[7]-pointX[7])*moveSpeed,pointY[7]+=(targetY[7]-pointY[7])*moveSpeed),1>dist(pointX[8],pointY[8],targetX[8],targetY[8])?(targetX[8]=floor(random(gridWidth/segments*3))*segmentSizeX+gridMarginX/2,targetY[8]=floor(random(gridWidth/segments*3,gridWidth/segments*6))*segmentSizeY+gridMarginTop):(moveSpeed=!0==intersected8||!0==intersected7?superSpeed:slowSpeed,pointX[8]+=(targetX[8]-pointX[8])*moveSpeed,pointY[8]+=(targetY[8]-pointY[8])*moveSpeed),intersect(a,Y,r,d)||intersect(a,m,r,d)?(intersected1=!0,targetY[1]=floor(random(myMouseY/segmentSizeY))*segmentSizeY+gridMarginTop,targetY[2]=floor(random(myMouseY/segmentSizeY))*segmentSizeY+gridMarginTop):intersected1=!1,intersect(a,Y,d,g)||intersect(a,m,d,g)?(intersected2=!0,targetY[2]=floor(random(myMouseY/segmentSizeY))*segmentSizeY+gridMarginTop,targetY[3]=floor(random(myMouseY/segmentSizeY))*segmentSizeY+gridMarginTop):intersected2=!1,intersect(a,Y,g,p)||intersect(a,m,g,p)?(intersected3=!0,targetX[3]=width-20,targetY[3]=80,targetX[4]=width-20):intersected3=!1,intersect(a,Y,p,m)?(intersected4=!0,targetX[4]=width-20,targetX[5]=width-20,targetY[5]=height-20):intersected4=!1,intersect(a,Y,p,m)?(intersected5=!0,targetX[4]=width-20,targetX[5]=width-20,targetY[5]=height-20):intersected5=!1,intersect(a,m,Y,X)?(intersected7=!0,targetX[7]=20,targetY[7]=height-20,targetX[8]=20):intersected7=!1,intersect(a,Y,X,r)||intersect(a,m,X,r)?(intersected8=!0,targetX[8]=20,targetX[1]=20,targetY[1]=80):intersected8=!1,beginShape(),vertex(pointX[1],pointY[1]),vertex(pointX[2],pointY[2]),vertex(pointX[3],pointY[3]),vertex(pointX[4],pointY[4]),vertex(pointX[5],pointY[5]),vertex(myMouseX,myMouseY),vertex(pointX[7],pointY[7]),vertex(pointX[8],pointY[8]),endShape(CLOSE),stroke("black"),noStroke(),clicked?(fill(255),blendMode(DIFFERENCE)):(fill(0),blendMode(BLEND)),noStroke(),textSize(32),textAlign(LEFT,TOP),text(currentName,pointX[currentPosition]+5,pointY[currentPosition]),textSize(windowWidth*windowHeight/5500),textFont(DegularDisplay),textAlign(RIGHT,BOTTOM),text("place to",.98*width,height-.8*textAscent()),text(currentAttribute,.98*width,height);var c=document.querySelector(":root");c.style.setProperty("--myMouseY",myMouseY+String("px")),c.style.setProperty("--myMouseX",myMouseX+String("px"))}function myFunction(){let e=document.getElementById("label"),t=document.getElementById("joinButton"),n=document.getElementById("plus"),s=document.getElementById("keyvis__close");!1==clicked?(clicked=!0,e.style.display="none",t.style.display="block",n.style.display="none",s.style.display="block",currentName="",noLoop(),sessionStorage.setItem("pointX",JSON.stringify(pointX)),sessionStorage.setItem("pointY",JSON.stringify(pointY))):(clicked=!1,e.style.display="block",t.style.display="none",n.style.display="block",s.style.display="none",loop())}function windowResized(){resizeCanvas(windowWidth-10,windowHeight),segmentSizeX=(windowWidth-10-gridMarginX)/segments,segmentSizeY=(windowHeight-gridMarginTop-gridMarginBottom)/segments}function showRandomAttribute(){currentAttribute=attributes[Math.floor(Math.random()*attributes.length)],setTimeout(showRandomAttribute,3e3)}function showRandomName(){currentName=names[Math.floor(Math.random()*names.length)]+String(" joined."),currentPosition=round(random(1,7)),setTimeout(hideName,5e3)}function hideName(){currentName="",setTimeout(showRandomName,5e3)}function intersect(e,t,n,s){let o=(s.y-n.y)*(t.x-e.x)-(s.x-n.x)*(t.y-e.y);if(0==o)return!1;let r=((s.x-n.x)*(e.y-n.y)-(s.y-n.y)*(e.x-n.x))/o,d=((t.x-e.x)*(e.y-n.y)-(t.y-e.y)*(e.x-n.x))/o;return r>=0&&r<=1&&d>=0&&d<=1}